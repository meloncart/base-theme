{% if product.use_variants %}
    {% set postedOptions = post('product_options', {}) %}
    {% set variant = product.resolveVariantSafe(postedOptions) %}
    {% set images = (variant and variant.images is not empty) ? variant.images : product.images %}
{% else %}
    {% set images = product.images %}
{% endif %}
{% if images is empty %}
    <div class="product-no-image">
        <img class="mb-3 img-fluid" src="{{ 'assets/images/default-post.png'|theme }}" />
    </div>
{% else %}
    <div data-control="gallery-slider" class="control-gallery-slider">
        <div data-slider-previews>
            {% for image in images %}
                <div class="image-container">
                    <a href="{{ image|media }}">
                        <img src="{{ image.path }}" alt="" class="img-fluid" />
                    </a>
                </div>
            {% endfor %}
        </div>
        <div class="slider-nav d-none {{ images.count == 1 ? '' : 'd-md-block' }}" data-slider-thumbs>
            {% for image in images %}
                <div class="image-container">
                    <img src="{{ image.path }}" alt="" class="w-100 rounded" />
                </div>
            {% endfor %}
        </div>
    </div>
{% endif %}
